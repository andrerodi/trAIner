@using trAIner.App.Services
@inherits LayoutComponentBase

<MudThemeProvider IsDarkMode="true" Theme="@_jetbrainsMonoFont" />
<MudDialogProvider />
<MudSnackbarProvider />

@* <MudOverlay @bind-Visible="_isLoading" DarkBackground="true" /> *@

<MudLayout>
    <MudAppBar>
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
        trAIner
    </MudAppBar>

    <MudDrawer @bind-Open="@_drawerOpen">
        <NavbarMenu />
    </MudDrawer>

    <MudMainContent>
        <trAIner.App.Components.Pages.ChatWindow @ref="_chatWindow" />
        @* @Body *@
    </MudMainContent>

    <MudAppBar Bottom="true" Color="Color.Transparent" Elevation="0" Class="mb-5">
        <MudTextField @bind-Value="_prooompt" Disabled="_isLoading" T="string" OnAdornmentClick="@(async () => await RequestAsync(_prooompt))" Class="pb-5" Label="Help" Variant="Variant.Outlined" Lines="2" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.SavedSearch" />
    </MudAppBar>
</MudLayout>
